<!--
  Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.1, mkdocs-material-7.1.8">
    
    
      
        <title>Ibmcos - IBM Cloud Adoption</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.ca7ac06f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.f1a3b89f.min.css">
        
          
          
          <meta name="theme-color" content="#000000">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,400,400i,700%7CIBM+Plex+Mono&display=fallback">
        <style>:root{--md-text-font-family:"IBM Plex Sans";--md-code-font-family:"IBM Plex Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
      <link rel="stylesheet" href="../../css/code.css">
    
    
      


    
    

  <!-- Determine title -->
  
  
    
  

  <!-- The image needs to have an absolute URL -->
  

  <!-- Open graph meta tags -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="IBM Cloud Adoption - Ibmcos" />
  <meta property="og:description" content="None" />
  <meta property="og:url" content="None" />
  <meta property="og:image" content="assets/images/banner.png" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="1080" />
  <meta property="og:image:height" content="568" />



  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../index.html" title="IBM Cloud Adoption" class="md-header__button md-logo" aria-label="IBM Cloud Adoption" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            IBM Cloud Adoption
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Ibmcos
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/dwakeman/cloud-adoption-ibm" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <!--
  Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Determine class according to configuration -->




<!-- Main navigation -->
<nav
  class="md-nav md-nav--primary"
  aria-label="Navigation"
  data-md-level="0"
>

  <!-- Site title -->
  <!--
  <label class="md-nav__title" for="__drawer">
    <a
      href="../../index.html"
      title="IBM Cloud Adoption"
      class="md-nav__button md-logo"
      aria-label="IBM Cloud Adoption"
      data-md-component="logo"
    >
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    IBM Cloud Adoption
  </label>
-->

  <!-- Repository information -->
  
    <div class="md-nav__source">
      
<a href="https://github.com/dwakeman/cloud-adoption-ibm" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  

  <!-- Render item list -->
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../index.html" class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      <label class="md-nav__link" for="__nav_2">
        Resilient Applications
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Resilient Applications" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Resilient Applications
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../ha-app/ha-app.html" class="md-nav__link">
        HA app considerations
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../ha-app/create-env.html" class="md-nav__link">
        Creating the Environment
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../ha-app/deploy-ha-app.html" class="md-nav__link">
        HA app deployment
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Disaster Recovery
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Disaster Recovery" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Disaster Recovery
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../disaster-recovery/disaster-recovery.html" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Custom Domains
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Custom Domains" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Custom Domains
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../custom-domain/create-domain.html" class="md-nav__link">
        Create a domain
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../custom-domain/manage-domain.html" class="md-nav__link">
        Manage your domain
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../custom-domain/domain-with-openshift.html" class="md-nav__link">
        Configure domain for OpenShift
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        Infrastructure
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Infrastructure" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Infrastructure
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../infrastructure/iac.html" class="md-nav__link">
        Infrastructure as Code (IaC)
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../infrastructure/schematics.html" class="md-nav__link">
        Schematics
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../infrastructure/vpc.html" class="md-nav__link">
        Virtual Private Cloud
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../infrastructure/sds.html" class="md-nav__link">
        Software Defined Storage
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      <label class="md-nav__link" for="__nav_6">
        IBM Cloud Platform
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="IBM Cloud Platform" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          IBM Cloud Platform
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud-platform/openshift-ibm-cloud.html" class="md-nav__link">
        OpenShift on IBM Cloud
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud-platform/ibm-cloud-operator.html" class="md-nav__link">
        IBM Cloud Operator
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud-platform/key-protect.html" class="md-nav__link">
        Key Protect
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      <label class="md-nav__link" for="__nav_7">
        IBM Cloud Satellite
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="IBM Cloud Satellite" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          IBM Cloud Satellite
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../satellite/index.html" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_2" type="checkbox" id="__nav_7_2" >
      
      <label class="md-nav__link" for="__nav_7_2">
        Create a Satellite Location
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Create a Satellite Location" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_2">
          <span class="md-nav__icon md-icon"></span>
          Create a Satellite Location
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_2_1" type="checkbox" id="__nav_7_2_1" >
      
      <label class="md-nav__link" for="__nav_7_2_1">
        IBM Cloud
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="IBM Cloud" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_2_1">
          <span class="md-nav__icon md-icon"></span>
          IBM Cloud
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_2_1_1" type="checkbox" id="__nav_7_2_1_1" >
      
      <label class="md-nav__link" for="__nav_7_2_1_1">
        Classic Infrastructure
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Classic Infrastructure" data-md-level="4">
        <label class="md-nav__title" for="__nav_7_2_1_1">
          <span class="md-nav__icon md-icon"></span>
          Classic Infrastructure
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../satellite/ibm-cloud/classic/prerequisites.html" class="md-nav__link">
        Prerequisites
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../satellite/ibm-cloud/classic/create-hosts.html" class="md-nav__link">
        Create Hosts
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../satellite/ibm-cloud/classic/create-location.html" class="md-nav__link">
        Create Location
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../satellite/ibm-cloud/classic/attach-hosts.html" class="md-nav__link">
        Attach Hosts
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../satellite/ibm-cloud/classic/assign-hosts.html" class="md-nav__link">
        Assign Hosts to Location
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_2_1_2" type="checkbox" id="__nav_7_2_1_2" >
      
      <label class="md-nav__link" for="__nav_7_2_1_2">
        VPC
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="VPC" data-md-level="4">
        <label class="md-nav__title" for="__nav_7_2_1_2">
          <span class="md-nav__icon md-icon"></span>
          VPC
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../satellite/ibm-cloud/vpc/create-location.html" class="md-nav__link">
        Create Location
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_2_2" type="checkbox" id="__nav_7_2_2" >
      
      <label class="md-nav__link" for="__nav_7_2_2">
        AWS
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="AWS" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_2_2">
          <span class="md-nav__icon md-icon"></span>
          AWS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../satellite/aws/create-location.html" class="md-nav__link">
        Create Location
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../satellite/aws/prerequisites.html" class="md-nav__link">
        Prerequisites
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../satellite/aws/create-hosts.html" class="md-nav__link">
        Create Hosts
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../satellite/aws/assign-hosts.html" class="md-nav__link">
        Assign Hosts to Location
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../satellite/openshift/create-cluster.html" class="md-nav__link">
        Create an OpenShift Cluster
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      <label class="md-nav__link" for="__nav_8">
        Hybrid Cloud
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Hybrid Cloud" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Hybrid Cloud
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../hybrid-cloud/hybrid.html" class="md-nav__link">
        Deploying a Hybrid Cloud Application
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      <label class="md-nav__link" for="__nav_9">
        Developer Experience
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Developer Experience" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Developer Experience
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../dev-tools/dev-experience.html" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../dev-tools/crw.html" class="md-nav__link">
        CodeReady Workspaces
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Ibmcos</h1>
                
                <pre><code class="language-sh">#!/bin/sh
#set -x
#-----------------------------------------------------------------------------------------------------
# Script:  ibmcos
# Version: 1.0.0
#-----------------------------------------------------------------------------------------------------
# IBM Cloud Object Storage - Utility functions
#-----------------------------------------------------------------------------------------------------
# Copyright (c) 2020, International Business Machines. All Rights Reserved.
#-----------------------------------------------------------------------------------------------------


cos_command=&quot;$1&quot;
service_name=&quot;$2&quot;
bucket_name=&quot;$3&quot;
location_constraint=&quot;$4&quot;
key_crn=&quot;$5&quot;
region=&quot;us&quot;
# Note:  Region should be set based on the location constraint, e.g. &quot;us&quot; for us-standard or 
#        &quot;us-south&quot; for us-south-standard

activity_tracker_crn=&quot;crn:v1:bluemix:public:logdnaat:us-south:a/9d5d52********************8a:55d90d9c-****-****-****-********785::&quot;

#-----------------------------------------------------------------------------------------------------
# Display usage information for the commands in this script
#-----------------------------------------------------------------------------------------------------
display_usage()
{
    echo
    echo &quot;NAME:&quot;
    echo &quot;ibmcos.sh - Manage features of IBM Cloud Object Storage&quot;
    echo
    echo &quot;USAGE:&quot;
    echo &quot;ibmcos.sh command [service instance name] [options]&quot;
    echo
    echo &quot;COMMANDS:&quot;
    echo &quot;-------------------------------------------------------------------------------------------&quot;
    echo
    echo &quot;view-buckets              View the buckets in the specified COS instance in XML format&quot;
    echo &quot;create-bucket             Create a new bucket with predefined configuration&quot;
    echo &quot;delete-bucket             Delete a bucket from the specified COS instance&quot;
    echo &quot;disable-bucket-firewall   Remove the COS Firewall configuration from a bucket&quot;
    echo &quot;view-bucket-config        Get the headers and configuration for the specified bucket&quot;
    echo &quot;view-objects              List the objects in the specified bucket&quot;
    echo &quot;location-constraints      Returns a list of valid location constraints for creating buckets&quot;
    echo &quot;view-key-protect          Returns a list of Key Protect instances&quot;
    echo &quot;view-keys-list            Returns a list of keys in the specified Key Protect instance&quot;
    echo &quot;help, h                   View help for this script&quot;
    echo
    echo
    echo &quot;Note: For your convenience this command executes the ibmcloud cli to look up certain&quot;
    echo &quot;      information needed to perform these tasks.  It requires you to be logged into&quot;
    echo &quot;      the ibmcloud cli before you run this command.&quot;
    echo
    echo
}

#-----------------------------------------------------------------------------------------------------
# Display the list of valid location constraints for creating buckets
#-----------------------------------------------------------------------------------------------------
display_location_constraints()
{
    echo
    echo &quot;LOCATION CONSTRAINTS:&quot;
    echo &quot;-------------------------------------------------------------------------------------------&quot;
    echo
    echo &quot;us-south-standard       Regional Bucket in US South with storage class STANDARD&quot;
    echo &quot;us-east-standard        Regional Bucket in US East with storage class STANDARD&quot;
    echo &quot;us-standard             Cross regional Bucket in US Geo with storage class STANDARD&quot;
    echo &quot;us-south-flex           Regional Bucket in US South with storage class FLEX&quot;
    echo &quot;us-east-flex            Regional Bucket in US East with storage class FLEX&quot;
    echo &quot;us-flex                 Cross regional Bucket in US Geo with storage class FLEX&quot;
    echo &quot;us-south-cold           Regional Bucket in US South with storage class COLD&quot;
    echo &quot;us-east-cold            Regional Bucket in US East with storage class COLD&quot;
    echo &quot;us-cold                 Cross regional Bucket in US Geo with storage class COLD&quot;
    echo &quot;us-south-vault          Regional Bucket in US South with storage class VAULT&quot;
    echo &quot;us-east-vault           Regional Bucket in US East with storage class VAULT&quot;
    echo &quot;us-vault                Cross regional Bucket in US Geo with storage class VAULT&quot;
    echo
    echo

}

#-----------------------------------------------------------------------------------------------------
# Display the headers and configuration of a bucket
#-----------------------------------------------------------------------------------------------------
view_bucket_configuration()
{
    echo
    echo &quot;Bucket Headers:&quot;
    echo

    curl -s -I &quot;https://s3.${region}.cloud-object-storage.appdomain.cloud/${bucket_name}&quot; \
      -H 'Authorization: Bearer '&quot;$ibm_auth_token&quot;'' \
      -H 'ibm-service-instance-id: '&quot;$service_instance_guid&quot;''

    echo
    echo &quot;Bucket Configuration:&quot;
    echo

    curl -s  &quot;https://config.cloud-object-storage.cloud.ibm.com/v1/b/${bucket_name}&quot; \
      -H 'Authorization: Bearer '&quot;$ibm_auth_token&quot;'' | jq --color-output

    echo

}

#-----------------------------------------------------------------------------------------------------
# Validate the location constraint specified on a create-bucket request
#-----------------------------------------------------------------------------------------------------
validate_location_constraint()
{

    constraint=&quot;$1&quot;

    #echo &quot;The location constraint passed to the function is ${constraint}&quot;

    locationCount=$(echo $constraints | jq '.locations | length')


    locationValid=false

    #echo &quot;Value of locationValid is ${locationValid}&quot;

    case $constraint in 
        us-standard)        locationValid=true;;
        us-south-standard)  locationValid=true;;
        us-south-flex)      locationValid=true;;
        us-south-cold)      locationValid=true;;
        us-south-vault)     locationValid=true;;
        us-east-standard)   locationValid=true;;
        us-east-flex)       locationValid=true;;
        us-east-cold)       locationValid=true;;
        us-east-vault)      locationValid=true;;
        us-standard)        locationValue=true;;
        us-flex)            locationValue=true;;
        us-cold)            locationValue=true;;
    esac

    #echo &quot;Value of locationValid is ${locationValid}&quot;

    if [[ $locationValid = false ]]; then
        echo
        echo &quot;ERROR: ${constraint} is not a valid location constraint.&quot;
        echo
        display_location_constraints
        exit 1
    fi

}


#-----------------------------------------------------------------------------------------------------
# Check base input parameters
#-----------------------------------------------------------------------------------------------------
if [[ $# -lt 1  ]]; then    
    display_usage
    exit 1
fi


# Only need to do these commands if a service name is present
if [[ $# -ge 2 ]]; then
    # Get the GUID for the specified service instance
    service_instance_guid=$(ic resource service-instance $service_name --output JSON | jq -r '.[0].guid')

    # Get the bearer token to use for authentication.
    # Note:  This assumes that the user has previously logged into the IBM Cloud CLI
    ibm_auth_token=$(ic iam oauth-tokens | awk '{ print $4}')
fi


#-----------------------------------------------------------------------------------------------------
# View Help
#-----------------------------------------------------------------------------------------------------
if [ $cos_command == &quot;help&quot; ] || [ $cos_command == &quot;h&quot; ]; then

    echo
    display_usage
    exit 0
fi



#-----------------------------------------------------------------------------------------------------
# List all the buckets in the specified COS instance in XML format
#-----------------------------------------------------------------------------------------------------
if [[ $cos_command == &quot;view-buckets&quot; ]]; then

    echo
    echo &quot;Listing buckets for service ${service_name}...&quot;
    echo

    curl -s &quot;https://s3.${region}.cloud-object-storage.appdomain.cloud/?extended&quot; \
      -H 'Authorization: Bearer '&quot;$ibm_auth_token&quot;'' \
      -H 'ibm-service-instance-id: '&quot;$service_instance_guid&quot;'' | xmllint --format -


    echo
    echo &quot;Request complete.&quot;
    echo
    echo
    exit 0
fi


#-----------------------------------------------------------------------------------------------------
# View all the objects in the specified COS instance
#-----------------------------------------------------------------------------------------------------
if [[ $cos_command == &quot;view-objects&quot; ]]; then
    if [[ $# -lt 3 ]]; then
        echo
        echo &quot;for view-objects a bucket name is required&quot;
        echo
        echo &quot;USAGE:&quot;
        echo &quot;ibmcos.sh view-objects [service instance name] [bucket-name]&quot;
        echo
        echo
        exit 1
    fi

    echo
    echo &quot;viewing objects for bucket ${bucket_name}...&quot;
    echo

    curl -s &quot;https://s3.${region}.cloud-object-storage.appdomain.cloud/${bucket_name}?List-type=2&quot; \
      -H 'Authorization: Bearer '&quot;$ibm_auth_token&quot;'' \
      -H 'ibm-service-instance-id: '&quot;$service_instance_guid&quot;''  | xmllint --format -

    echo
    echo &quot;Request complete.&quot;
    echo
    echo
    exit 0
fi

#-----------------------------------------------------------------------------------------------------
# View all the objects in the specified COS instance
#-----------------------------------------------------------------------------------------------------
if [[ $cos_command == &quot;get-object&quot; ]]; then
    if [[ $# -lt 3 ]]; then
        echo
        echo &quot;for get-object a bucket name is required&quot;
        echo
        echo &quot;USAGE:&quot;
        echo &quot;ibmcos.sh view-objects [service instance name] [bucket-name] [object-name]&quot;
        echo
        echo
        exit 1
    fi

    if [[ $# -lt 4 ]]; then
        echo
        echo &quot;for get-object an object name is required&quot;
        echo
        echo &quot;USAGE:&quot;
        echo &quot;ibmcos.sh view-objects [service instance name] [bucket-name] [object-name]&quot;
        echo
        echo
        exit 1
    fi

    object_name=&quot;$4&quot;

    echo
    echo &quot;getting object ${object_name}...&quot;
    echo

    curl -s &quot;https://s3.${region}.cloud-object-storage.appdomain.cloud/${bucket_name}/${object_name}&quot; \
      -H 'Authorization: Bearer '&quot;$ibm_auth_token&quot;'' \
      -H 'ibm-service-instance-id: '&quot;$service_instance_guid&quot;'' &gt; ${object_name}.pdf

    echo
    echo &quot;Request complete.&quot;
    echo
    echo
    exit 0
fi


#-----------------------------------------------------------------------------------------------------
# Create a bucket in the specified COS instance with Key Protect, Activity Tracker 
# and IP Firewall enabled
#-----------------------------------------------------------------------------------------------------
if [[ $cos_command == &quot;create-bucket&quot; ]]; then
    if [[ $# -lt 3 ]]; then
        echo
        echo &quot;for create-bucket a bucket name is required&quot;
        echo
        echo &quot;USAGE:&quot;
        echo &quot;ibmcos.sh create-bucket [service instance name] [bucket-name] [location-constraint] [key-crn]&quot;
        echo
        echo
        exit 1
    fi

    if [[ $# -lt 4 ]]; then
        echo
        echo &quot;for create-bucket a location constraint is required&quot;
        echo
        echo &quot;USAGE:&quot;
        echo &quot;ibmcos.sh create-bucket [service instance name] [bucket-name] [location-constraint] [key-crn]&quot;
        display_location_constraints
        echo
        exit 1
    fi

    if [[ $# -lt 5 ]]; then
        echo
        echo &quot;for create-bucket a Key Protect Key is required&quot;
        echo
        echo &quot;USAGE:&quot;
        echo &quot;ibmcos.sh create-bucket [service instance name] [bucket-name] [location-constraint] [key-crn]&quot;
        echo
        exit 1
    fi

    # Validate the specified bucket constraint
    validate_location_constraint $location_constraint

    if [[ $location_constraint == &quot;us-standard&quot; ]]; then
        region=&quot;us&quot;
    fi

    echo &quot;The updated region is ${region}&quot;

    echo
    echo &quot;Creating bucket ${bucket_name} with location constraint ${location_constraint}...&quot;
    echo

    curl -s -X PUT &quot;https://s3.${region}.cloud-object-storage.appdomain.cloud/${bucket_name}&quot; \
      -H 'Authorization: Bearer '&quot;$ibm_auth_token&quot;'' \
      -H 'ibm-service-instance-id: '&quot;$service_instance_guid&quot;'' \
      -H 'ibm-sse-kp-encryption-algorithm: AES256' \
      -H 'ibm-sse-kp-customer-root-key-crn: '&quot;$key_crn&quot;'' \
      -d '&lt;CreateBucketConfiguration&gt;&lt;LocationConstraint&gt;'&quot;${location_constraint}&quot;'&lt;/LocationConstraint&gt;&lt;/CreateBucketConfiguration&gt;'

    # Next we need to update the config for Activity Tracker and COS Firewall
    # Note: A CIDR block of 0.0.0.0/0 allows all IP Addresses
    # Note: To remove the COS Firewall pass an empty array: {&quot;allowed_ip&quot;: []}

    curl -s -X PATCH &quot;https://config.cloud-object-storage.cloud.ibm.com/v1/b/${bucket_name}&quot; \
      -H 'Authorization: Bearer '&quot;$ibm_auth_token&quot;'' \
      -d '{ &quot;activity_tracking&quot;: 
            {
                &quot;read_data_events&quot;: false,
                &quot;write_data_events&quot;: true,
                &quot;activity_tracker_crn&quot;: &quot;'&quot;$activity_tracker_crn&quot;'&quot; 
            },
            &quot;firewall&quot;: 
            {
                &quot;allowed_ip&quot;: [&quot;0.0.0.0/0&quot;] 
            }
          }' | jq --color-output


    echo
    echo &quot;Bucket Created, retrieving bucket headers and configuration...&quot;
    echo

    view_bucket_configuration

    echo
    echo &quot;Request complete.&quot;
    echo
    echo
    exit 0
fi

#-----------------------------------------------------------------------------------------------------
# Remove COS Firewall
# Note: This will probably only be used if the firewall config is invalid
#-----------------------------------------------------------------------------------------------------
if [[ $cos_command == &quot;disable-bucket-firewall&quot; ]]; then
    if [[ $# -lt 3 ]]; then
        echo
        echo &quot;for disable-bucket-firewall a bucket name is required&quot;
        echo
        echo &quot;USAGE:&quot;
        echo &quot;ibmcos.sh disable-bucket-firewall [service instance name] [bucket-name]&quot;
        echo
        echo
        exit 1
    fi

    echo
    echo &quot;Disabling COS Firewall for bucket ${bucket_name}...&quot;
    echo

    curl -s -X PATCH &quot;https://config.cloud-object-storage.cloud.ibm.com/v1/b/${bucket_name}&quot; \
      -H 'Authorization: Bearer '&quot;$ibm_auth_token&quot;'' \
      -d '{ &quot;firewall&quot;: {&quot;allowed_ip&quot;: []} }' | jq --color-output

    echo
    echo &quot;Bucket firewall disabled...&quot;
    echo

    view_bucket_configuration

    echo &quot;Request complete.&quot;
    echo
    echo
    exit 0
fi

#-----------------------------------------------------------------------------------------------------
# Delete a bucket
#-----------------------------------------------------------------------------------------------------
if [[ $cos_command == &quot;delete-bucket&quot; ]]; then
    if [[ $# -lt 3 ]]; then
        echo
        echo &quot;for delete-bucket a bucket name is required&quot;
        echo
        echo &quot;USAGE:&quot;
        echo &quot;ibmcos.sh delete-bucket [service instance name] [bucket-name]&quot;
        echo
        echo
        exit 1
    fi

    echo
    echo &quot;Deleting bucket ${bucket_name}...&quot;
    echo

    curl -s -X DELETE &quot;https://s3.${region}.cloud-object-storage.appdomain.cloud/${bucket_name}&quot; \
      -H 'Authorization: Bearer '&quot;$ibm_auth_token&quot;'' 

    echo
    echo &quot;Request complete.&quot;
    echo
    echo
    exit 0
fi



if [[ $cos_command == &quot;location-constraints&quot; ]]; then

    display_location_constraints
    exit 0
fi

#-----------------------------------------------------------------------------------------------------
# Get Bucket Config
#-----------------------------------------------------------------------------------------------------
if [[ $cos_command == &quot;view-bucket-config&quot; ]]; then
    if [[ $# -lt 3 ]]; then
        echo
        echo &quot;for view-bucket-config a bucket name is required&quot;
        echo
        echo &quot;USAGE:&quot;
        echo &quot;ibmcos.sh view-bucket-config [service instance name] [bucket-name]&quot;
        echo
        echo
        exit 1
    fi

    view_bucket_configuration
    echo
    echo &quot;Request complete.&quot;
    echo
    echo
    exit 0
fi

#-----------------------------------------------------------------------------------------------------
# View a list of keys in the specified Key Protect instance
#-----------------------------------------------------------------------------------------------------
if [[ $cos_command == &quot;view-keys&quot; ]]; then
    echo
    echo &quot;Listing keys for service ${service_name}...&quot;
    echo

    # Get the region for the Key Protect Instance
    location=$(ic resource service-instance $service_name --output json | jq -r '.[0].region_id')

    curl -s &quot;https://${location}.kms.cloud.ibm.com/api/v2/keys&quot; \
      -H 'Authorization: Bearer '&quot;$ibm_auth_token&quot;'' \
      -H 'bluemix-instance: '&quot;$service_instance_guid&quot;'' \
      -H 'accept: application/vnd.ibm.kms.key+json' | jq --color-output

    echo
    echo &quot;Request complete.&quot;
    echo
    echo
    exit 0
fi


#-----------------------------------------------------------------------------------------------------
# View a list of keys in the specified Key Protect instance
#-----------------------------------------------------------------------------------------------------
if [[ $cos_command == &quot;view-keys-list&quot; ]]; then
    echo
    echo &quot;Listing keys for service ${service_name}...&quot;
    echo

    # Get the region for the Key Protect Instance
    location=$(ic resource service-instance $service_name --output json | jq -r '.[0].region_id')

    curl -s &quot;https://${location}.kms.cloud.ibm.com/api/v2/keys&quot; \
      -H 'Authorization: Bearer '&quot;$ibm_auth_token&quot;'' \
      -H 'bluemix-instance: '&quot;$service_instance_guid&quot;'' \
      -H 'accept: application/vnd.ibm.kms.key+json' | jq -r '[.resources | .[] 
         | {    name: .name, id: .id, crn: .crn} ] 
         | [ .[] | with_entries( .key |= ascii_downcase ) ] | (.[0] 
         | keys_unsorted | @tsv), (.[]|.| map(.) | @tsv) ' | column -t -s $'\t'

    echo
    echo &quot;Request complete.&quot;
    echo
    echo
    exit 0
fi


#-----------------------------------------------------------------------------------------------------
# View a list of keys in the specified Key Protect instance
#-----------------------------------------------------------------------------------------------------
if [[ $cos_command == &quot;view-key-protect&quot; ]]; then
    echo
    echo &quot;Listing instance of Key Protect...&quot;
    echo



    ic resource service-instances --output JSON | jq -r '[ .[] 
      | select(.sub_type != null) | select(.sub_type | contains(&quot;kms&quot;))] 
      | [ .[] | {name: .name, type: .type, sub_type: .sub_type }] 
      | [ .[] | with_entries( .key |= ascii_downcase ) ] | (.[0] 
      | keys_unsorted | @tsv), (.[]|.| map(.) | @tsv) ' | column -t -s $'\t'

    echo
    echo &quot;Request complete.&quot;
    echo
    echo
    exit 0
fi


echo
echo &quot;Error: Invalid command&quot;
echo
display_usage
</code></pre>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        <!--
  Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->



<!-- Footer -->
<footer class="md-footer">

    <!-- Further information -->
    <div class="md-footer-meta md-typeset">
        <div class="md-footer-meta__inner md-grid">
            <div class="md-footer-column">
                <div class="md-footer-text">Styling and customization credit: <a href="https://cloudnativetoolkit.dev">Cloud Native Toolkit</a></div>
                <div class="md-footer-text">Site licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div>
            </div>
            <div class="md-footer-column">
                <div class="md-footer-text">Have questions? open an issue on <a href="">GitHub</a>.</div>

                <!-- Copyright and theme information -->
                
                <div class="md-footer-text">
                    Copyright  2021 IBM Technology Garage
                </div>
                
            </div>
        </div>
    </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.b0710199.min.js", "version": null}</script>
    
    
  
      <script src="../../assets/javascripts/bundle.76f349be.min.js"></script>
      
    


  </body>
</html>